<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>一款基于JQuery做的动画背景后台管理登录模板 - </title>

<link href="style/main.css" rel="stylesheet" type="text/css" />

</head>
<body>


<div class="login">
    <div class="box png">
		<div class="logo png"></div>
		<div class="input">
			<div class="log">
				<div class="name">
					<label>用户名</label><input id="loginName" type="text" class="text" id="value_1" placeholder="用户名" name="value_1" tabindex="1">
				</div>
				<div class="pwd">
					<label>密　码</label><input id="loginPsd" type="password" class="text" id="value_2" placeholder="密码" name="value_2" tabindex="2">

				</div>
				<div class="repwd">
					<label>确认密码</label><input id="loginPsd2" type="password" placeholder="请再次输入密码" class="text" id="value_2" placeholder="密码" name="value_2" tabindex="2">
					<input id="login" type="button" class="submit" tabindex="3" value="注册" onclick="register()">
					
				</div>
				<div class="tip"></div>
			</div>
		</div>
	</div>
    <div class="air-balloon ab-1 png"></div>
	<div class="air-balloon ab-2 png"></div>
    <div class="footer"></div>
</div>

<script type="text/javascript" src="js/jQuery.js"></script>
<script type="text/javascript" src="js/fun.base.js"></script>
<script type="text/javascript" src="js/script.js"></script>

<div style="text-align:center;margin:50px 0; font:normal 14px/24px 'MicroSoft YaHei';">
<p>适用浏览器：360、FireFox、Chrome、Safari、Opera、傲游、搜狗、世界之窗. 不支持IE8及以下浏览器。</p>
<p>More Templates <a href="http://www.cssmoban.com/" target="_blank" title="模板之家">模板之家</a> - Collect from <a href="http://www.cssmoban.com/" title="网页模板" target="_blank">网页模板</a></p>
</div>

<script type="text/javascript">
	var login=document.getElementById("login");
	var registered=document.getElementById("registered");
	var usr=document.getElementById("usr");
	var pwd=document.getElementById("pwd");
	

	function register() {
            if(isNone()) {
                // 定义一个空数组
                let arr = [];
                if(localStorage.user) {
                    arr = eval(localStorage.user);
                    for(e in arr) {
                        // 取出数据判断是否注册过
                        if($('#loginName').val().trim() == arr[e].loginName) {
                            alert('该账号已被注册');
                            clear();
                            return;
                        }
                    }
                }
                const user = {
                    'loginName': $("#loginName").val(),
                    'loginPsd': $("#loginPsd").val()
                };
                // 添加数据
                arr.push(user);
                localStorage.user = JSON.stringify(arr);
                alert('注册成功');
                window.location.href="login.html";
                clear();
            }
        }
        
        /**
         * 清空数据
         * 等同于
         * document.getElementById("loginName").value="";
         * document.getElementById("loginPsd").value="";
         */
        function clear() {
            $('#loginName').val('');
            $("#loginPsd").val('');
            $("#loginPsd2").val('');
        }
        
        /**
         * 注册的验证方法
         * 是否为空的判断
         * 两次密码是否相等的判断
         */
        function isNone() {
        	alert(111)
            if($('#loginName').val().trim() == "") {
                alert('用户名不能为空');
                return false;
            } else if($('#loginPsd').val().trim() == "") {
                alert('密码不能为空');
                return false;
            } else if($('#loginPsd').val().trim() != $('#loginPsd2').val().trim()) {
                alert('两次密码不一致，请检查！');
                return false;
            }
            return true;
        }

		
	
</script>
</body>
</html>